{
  "name": "compass",  
  // Use docker while docker-compose doesn't support --gpus
  "dockerFile": "miniconda.dockerfile",
  "context": "..",  
  "workspaceMount": "type=bind,source=${localWorkspaceFolder},target=/workspace",
  "workspaceFolder": "/workspace",
  "mounts": [
    "type=bind,source=${localEnv:HOME}${localEnv:USERPROFILE}/.ssh,target=/home/miniconda/.ssh",
    "type=bind,source=${localEnv:HOME}${localEnv:USERPROFILE}/.gitconfig,target=/home/miniconda/.gitconfig",
    "type=volume,source=compass_vscode-server,target=/home/miniconda/.vscode-server",
    "type=volume,source=conda-cache,target=/opt/conda/pkgs",
    "type=volume,source=user-cache,target=/home/miniconda/.cache"
  ],
  "extensions": [
    "ms-python.python",
    "VisualStudioExptTeam.vscodeintellicode",
    "GitHub.vscode-pull-request-github",
    "eamodio.gitlens",
    "mhutchie.git-graph",
  ],
  "settings": {
    // Save
    "files.autoSave": "afterDelay",
    // Format
    // "editor.formatOnSave": true,
    "editor.detectIndentation": false,
    "editor.tabSize": 4,
    "editor.insertSpaces": true,
    // Ignore files
    "files.exclude": {
      "**/.git": true,
      "**/.ipynb_checkpoints": true,
    },
    // Ignore for watching
    "files.watcherExclude": {
      "**/.git/**": true,
      "**/data/**": true,
      "**/compass.egg-info/**": true,
    },
    // Python
    "python.pythonPath": "/workspace/.conda/envs/miniconda/bin/python",
    "python.terminal.activateEnvInCurrentTerminal": true,
    "python.formatting.provider": "black",
    // pytest
    "python.testing.pytestArgs": [
        "tests"
    ],
    "python.testing.unittestEnabled": false,
    "python.testing.nosetestsEnabled": false,
    "python.testing.pytestEnabled": true
  }
}